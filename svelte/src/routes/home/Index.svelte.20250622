<script lang="ts">
	import { onMount } from 'svelte';
	import { goto } from '@mateothegreat/svelte5-router';
	import { authStore } from '$services/auth.store';
	import { toggleLoginModal } from '$lib/stores/ui.store';
	import LoginModal from '$lib/components/LoginModal.svelte';

	// 인증 상태 확인
	// $effect(() => {
	// 	if ($authStore.isAuthenticated) {
	// 		console.log('[Home] 로그인된 사용자, 프로필 페이지로 이동');
	// 		goto('/profile');
	// 	}
	// });

	function handleTestLoginModal() {
		toggleLoginModal({ isOpen: true });
	}

	onMount(() => {
		// 페이지 로드 시 스크롤을 맨 위로
		setTimeout(() => {
			window.scrollTo({
				top: 0,
				behavior: 'auto',
			});
		}, 100);
	});
</script>

<div class="min-h-screen bg-white flex flex-col">
	<!-- 헤더 -->
	<!-- <header class="border-b border-gray-100 bg-white">
		<div class="mx-auto max-w-lg px-4 py-4">
			<div class="text-center">
				<h1 class="text-xl font-semibold text-gray-900">Private Place</h1>
			</div>
		</div>
	</header> -->

	<!-- 메인 콘텐츠 -->
	<main class="flex-1 flex items-center justify-center px-4">
		<div class="w-full max-w-md text-center">
			
			<!-- 테스트 버튼 -->
			<button
				onclick={handleTestLoginModal}
				class="w-full px-6 py-4 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2 transition-colors"
			>
				로그인 Modal Test
			</button>
		</div>
	</main>
</div>

<!-- 로그인 모달 -->
<LoginModal />

<style>
</style>
